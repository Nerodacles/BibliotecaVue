(function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"7c684204"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=n);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(u);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",c.name="ChunkLoadError",c.type=n,c.request=a,r[1](c)}o[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"03da":function(e,t,r){},"046a":function(e,t,r){},"2cfd":function(e,t,r){"use strict";r("e314")},"2e7c":function(e,t,r){"use strict";r("6b3c")},4812:function(e,t,r){"use strict";r("046a")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("top-header"),r("sidebar")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{staticClass:"fixed-top",attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("br"),n("b-navbar-brand",{attrs:{href:"/"}},[n("img",{staticClass:"d-inline-block align-top",attrs:{src:r("9b19"),width:"30",height:"30",alt:"",loading:"lazy"}}),e._v(" Biblioteca Virtual JM")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[e.loggedIn?e._e():n("b-nav-item",{attrs:{href:"/login"}},[e._v("Login")]),e.loggedIn&&!e.userData.isAdmin?n("b-nav-item",{attrs:{href:"/user"}},[e._v("Home")]):e._e(),e.loggedIn&&e.userData.isAdmin?n("b-nav-item",{attrs:{href:"/admin"}},[e._v("Home")]):e._e(),e.loggedIn?e._e():n("b-nav-item",{attrs:{href:"/register"}},[e._v("Register")]),n("b-nav-item",{attrs:{href:"/about"}},[e._v("About")])],1),this.loggedIn?n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("em",[e._v(e._s(e.userData.name))])]},proxy:!0}],null,!1,1742173461)},[n("b-dropdown-item",{attrs:{href:"/profile/"+e.userUID}},[e._v("Profile")]),n("b-dropdown-item",{on:{click:e.logout}},[e._v("Sign Out")])],1)],1):e._e()],1)],1)],1)},s=[],l=r("260b"),c=(r("ea7b"),r("e71f"),r("588e"),r("000b"),{apiKey:"AIzaSyCQpj6yylxEBIN7tRRCYUGRKLKIbUaadVA",authDomain:"biblioteca-vue.firebaseapp.com",projectId:"biblioteca-vue",storageBucket:"biblioteca-vue.appspot.com",messagingSenderId:"445771738959",appId:"1:445771738959:web:aecd278bf0fbd89eed1f3a",measurementId:"G-GKPXCHB9JK"});l["a"].initializeApp(c);var u=l["a"].firestore(),d=l["a"].auth(),f=l["a"].storage(),p=(l["a"].analytics(),u.collection("users")),m=u.collection("books"),h=(u.collection("comments"),u.collection("likes"),{computed:{userData:function(){return this.$store.state.userProfile},userUID:function(){return this.$store.state.userUID}},created:function(){var e=this;d.onAuthStateChanged((function(t){e.loggedIn=!!t,e.loggedIn&&(e.$store.dispatch("Getuser"),e.$store.dispatch("getAuthUser"))}))},data:function(){return{loggedIn:!1}},methods:{logout:function(){this.$store.dispatch("logout")}}}),v=h,g=r("2877"),b=Object(g["a"])(v,i,s,!1,null,"594328aa",null),w=b.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:[{collapsed:e.collapsed},{onmobile:e.isOnMobile}],attrs:{id:"demo"}},[r("div",{staticClass:"demo"},[r("div",{staticClass:"container pt-6"},[r("router-view")],1),r("sidebar-menu",{attrs:{menu:e.menu,width:"250px",collapsed:e.collapsed,theme:e.selectedTheme,"show-one-child":!0},on:{"toggle-collapse":e.onToggleCollapse}}),e.isOnMobile&&!e.collapsed?r("div",{staticClass:"sidebar-overlay",on:{click:function(t){e.collapsed=!0}}}):e._e()],1)])},k=[],x={template:'<hr style="border-color: rgba(0, 0, 0, 0.1); margin: 20px;">'},B={name:"sidebar",data:function(){return{menu:[{header:!0,title:"Getting Started",hiddenOnCollapse:!0},{href:"/admin",title:"Dashboard",icon:"fa fa-download"},{href:"/Books",title:"Books",icon:"fa fa-code"},{href:"/AddBook",title:"Add Book",icon:"fa fa-code"},{href:"/AdminBooks",title:"Admin Books",icon:"fa fa-cogs"},{href:"/events",title:"Events",icon:"fa fa-bell"},{component:x},{href:"/page",title:"Dropdown Page",icon:"fa fa-list-ul",child:[{href:"/page/sub-page-1",title:"Sub Page 01",icon:"fa fa-file-alt"},{href:"/page/sub-page-2",title:"Sub Page 02",icon:"fa fa-file-alt"}]},{title:"Multiple Level",icon:"fa fa-list-alt",child:[{title:"page"},{title:"Level 2 ",child:[{title:"page"},{title:"Page"}]},{title:"Page"},{title:"Another Level 2",child:[{title:"Level 3",child:[{title:"Page"},{title:"Page"}]}]}]}],collapsed:!1,selectedTheme:"default-theme",isOnMobile:!1}},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize)},methods:{onToggleCollapse:function(e){console.log(e),this.collapsed=e},onResize:function(){window.innerWidth<=767?(this.isOnMobile=!0,this.collapsed=!0):(this.isOnMobile=!1,this.collapsed=!1)}}},C=B,y=(r("4812"),Object(g["a"])(C,_,k,!1,null,"63a70760",null)),A=y.exports,U={components:{"top-header":w,sidebar:A}},P=U,S=(r("5c0b"),Object(g["a"])(P,o,a,!1,null,null,null)),$=S.exports,O=(r("45fc"),r("d3b7"),r("8c4f")),I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content"},[e._v(" Pagina de Inicio ")])])}],j={},R=j,D=(r("bf1f"),Object(g["a"])(R,I,E,!1,null,"28ddeb58",null)),N=D.exports,q=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},T=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container"},[r("div",{staticClass:"row Screen"})])])}],L=(r("4160"),r("159b"),{created:function(){var e=this;u.collection("users").doc(d.currentUser.uid).onSnapshot((function(t){e.user=t.data()})),u.collection("default").onSnapshot((function(t){e.defaultValues=[],t.forEach((function(t){var r=t.data();r.id=t.id,e.defaultValues.push(r)}))})),u.collection("users").onSnapshot((function(t){e.database=[],t.forEach((function(t){var r=t.data();r.id=t.id,e.database.push(r)}))}))},data:function(){return{database:[],defaultValues:[],user:[]}}}),V=L,M=Object(g["a"])(V,q,T,!1,null,null,null),z=M.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("sidebar"),r("p",[e._v("Welcome "+e._s(e.fetchUser.name))]),r("p",[e._v("User Email: "+e._s(e.email))]),r("p",[e._v("You're Admin: "+e._s(e.fetchUser.isAdmin))])],1)},G=[],J={components:{Sidebar:A},computed:{fetchUser:function(){return this.$store.state.userProfile}},created:function(){},data:function(){return{email:d.currentUser.email}},methods:{}},K=J,W=Object(g["a"])(K,F,G,!1,null,null,null),H=W.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{},[e.error?r("div",{staticClass:"alert alert-warning alert-dismissible fade show",attrs:{role:"alert"}},[r("span",[e._v(e._s(e.error))])]):e._e(),r("div",{staticClass:"login-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("h2",{staticClass:"text-center display-4 text-bluewhite"},[e._v("Login")]),r("div",{staticClass:"form-group has-error"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Username",required:"required"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:"required"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._m(0),e._m(1)]),r("p",{staticClass:"text-center small text-bluewhite"},[e._v(" Don't have an account? "),r("router-link",{staticClass:"text-darkblue",attrs:{to:"/register"}},[e._v("Sign up here!")])],1)])])])},Q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[e._v(" Sign in ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("a",{attrs:{href:"#"}},[e._v("Lost your Password?")])])}],X={data:function(){return{email:"",password:"",error:""}},methods:{login:function(){this.$store.dispatch("login",{email:this.email,password:this.password})}}},Z=X,ee=(r("d6db"),Object(g["a"])(Z,Y,Q,!1,null,null,null)),te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{},[r("div",{staticClass:"login-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[r("h2",{staticClass:"text-center display-4 text-bluewhite"},[e._v("Register")]),r("div",{staticClass:"form-group has-error"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Username",required:"required"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:"required"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:"required"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("v-select",{attrs:{options:e.universities,label:"init",placeholder:"Select an University"},model:{value:e.uni,callback:function(t){e.uni=t},expression:"uni"}})],1),e._m(0)])])])])},ne=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[e._v(" Submit ")])])}],oe=(r("b0c0"),r("4a7a")),ae=r.n(oe),ie=(r("6dfc"),{components:{vSelect:ae.a},created:function(){var e=this;u.collection("default").doc("Uni").onSnapshot((function(t){e.universities=t.data().unis}))},methods:{signup:function(){this.$store.dispatch("signup",{email:this.email,password:this.password,name:this.name,uni:this.uni})}},data:function(){return{email:"",password:"",name:"",uni:"",universities:[]}}}),se=ie,le=(r("2cfd"),Object(g["a"])(se,re,ne,!1,null,null,null)),ce=le.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid p-0"},[r("div",{staticClass:"row"},[r("div",{class:this.$route.params.test?"":"col-sm-9 col-md-8"},[r("div",{staticClass:"content"},[e._v(" Libros ")]),r("p",[e._v(e._s(e.AllBooks))]),r("div",e._l(this.AllBooks,(function(t){return r("router-link",{key:t.id,attrs:{to:"/book/"+t.id}},[r("p",[e._v("Book Name: "+e._s(t.title))]),r("img",{attrs:{src:t.coverUrl,alt:"test"}}),r("p",[e._v("Categories: "+e._s(t.Categories[0]))])])})),1)])])])},de=[],fe={created:function(){var e=this;m.onSnapshot((function(t){t.forEach((function(t){var r=t.data();r.id=t.id,e.AllBooks.push(r)}))}))},data:function(){return{AllBooks:[]}},methods:{}},pe=fe,me=(r("2e7c"),Object(g["a"])(pe,ue,de,!1,null,"0ea85d7c",null)),he=me.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mx-5"},[e.show?n("b-form",{staticClass:"m-4 p-3",on:{submit:e.onSubmit,reset:e.onReset}},[n("b-form-group",{attrs:{label:"Upload Cover:","label-for":"UploadImage"}},[n("div",{staticClass:"custom-file"},[n("input",{staticClass:"custom-file-input",attrs:{type:"file",accept:"image/*"},on:{change:e.uploadImage}}),n("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[e._v("select cover")]),e.images?n("div",{staticClass:"container"},e._l(e.images,(function(t,r){return n("div",{key:r,staticClass:"col-sm-3 col-md-4 col-lg-2"},[n("div",{},[n("img",{ref:"image",refInFor:!0,staticClass:"preview imagePreviewWrapper row"}),e._v(" "+e._s(t.name)+" ")])])})),0):e._e()])]),n("b-form-group",{attrs:{label:"Upload Book:","label-for":"UploadBookFile"}},[n("div",{staticClass:"custom-file"},[n("input",{staticClass:"custom-file-input",attrs:{type:"file",accept:"application/pdf"},on:{change:e.uploadBook}}),n("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[e._v("select pdf")]),e.pdf?n("div",{},e._l(e.pdf,(function(t,o){return n("div",{key:o},[n("div",{},[n("img",{staticClass:"preview mt-2",attrs:{src:r("9f06"),width:"40",height:"40"}}),e._v(" "+e._s(t.name)+" ")])])})),0):e._e()])]),n("b-form-group",{attrs:{label:"Book Name:","label-for":"Bookname"}},[n("b-form-input",{attrs:{type:"text",placeholder:"book name",required:""},model:{value:e.newBook.BookName,callback:function(t){e.$set(e.newBook,"BookName",t)},expression:"newBook.BookName"}})],1),n("b-form-group",{attrs:{label:"Author:","label-for":"Bookname"}},[n("b-form-input",{attrs:{type:"text",placeholder:"author",required:""},model:{value:e.newBook.Author,callback:function(t){e.$set(e.newBook,"Author",t)},expression:"newBook.Author"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"ISBN:","label-for":"isbn"}},[n("b-form-input",{attrs:{type:"number",placeholder:"ISBN",required:""},model:{value:e.newBook.ISBN,callback:function(t){e.$set(e.newBook,"ISBN",t)},expression:"newBook.ISBN"}})],1),n("b-form-group",{attrs:{label:"Categories:","label-for":"input-3"}},[n("v-select",{staticClass:"small",attrs:{taggable:"",multiple:"","push-tags":"",options:e.categories,placeholder:"select one or more"},model:{value:e.newBook.categories,callback:function(t){e.$set(e.newBook,"categories",t)},expression:"newBook.categories"}})],1),n("b-form-group",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleFormControlTextarea1"}},[e._v("Enter the Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newBook.Description,expression:"newBook.Description"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:e.newBook.Description},on:{input:function(t){t.target.composing||e.$set(e.newBook,"Description",t.target.value)}}})])]),e.images[0]&&e.pdf?n("div",[n("p",[e._v("Progress: "+e._s(e.uploadValue.toFixed()+"%")+" "),n("progress",{attrs:{id:"progress",max:"100"},domProps:{value:e.uploadValue}})])]):e._e(),n("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),n("b-button",{staticClass:"mx-1",attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1):e._e()],1)},ge=[],be=(r("96cf"),r("1da1")),we={components:{vSelect:ae.a},created:function(){var e=this;u.collection("default").doc("categories").onSnapshot((function(t){e.categories=t.data().name}))},data:function(){return{newBook:{BookName:"",Author:"",ISBN:"",categories:null,Description:"",pdf:null},categories:[],show:!0,picture:null,uploadValue:0,images:[],pdf:null}},methods:{onSubmit:function(e){var t=this;return Object(be["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),t.picture=null,t.uploadValue=0,r.next=5,t.getUrl();case 5:n=r.sent,console.log(n),o=f.ref("".concat(t.images[0].name)).put(t.images[0]),o.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(e){console.log(e.message)}),(function(){t.uploadValue=100,o.snapshot.ref.getDownloadURL().then((function(e){t.$store.dispatch("newBook",{covers:e,file:t.newBook.pdf,name:t.newBook.BookName,author:t.newBook.Author,ISBN:t.newBook.ISBN,category:t.newBook.categories,description:t.newBook.Description})}))}));case 9:case"end":return r.stop()}}),r)})))()},onReset:function(e){var t=this;e.preventDefault(),this.newBook.BookName="",this.newBook.Author="",this.newBook.ISBN="",this.newBook.Description="",this.newBook.pdf="",this.newBook.categories=[],this.show=!1,this.uploadValue=0,this.images=[],this.$nextTick((function(){t.show=!0}))},selectImage:function(){this.$refs.fileInput.click()},uploadImage:function(e){var t=this;this.uploadValue=0,this.picture=null;var r=e.target.files;this.images=r;for(var n=function(e){var r=new FileReader;r.onload=function(n){t.$refs.image[e].src=r.result},r.readAsDataURL(t.images[e])},o=0;o<this.images.length;o++)n(o)},uploadBook:function(e){var t=e.target.files;this.pdf=t},getUrl:function(){var e=this;return Object(be["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=f.ref("".concat(e.pdf[0].name)).put(e.pdf[0]),r.on("state_changed",(function(t){e.uploadValue=t.bytesTransferred/t.totalBytes*100}),(function(e){console.log(e.message)}),(function(){e.uploadValue=50,r.snapshot.ref.getDownloadURL().then((function(t){e.newBook.pdf=t}))}));case 2:case"end":return t.stop()}}),t)})))()}}},_e=we,ke=(r("c656"),Object(g["a"])(_e,ve,ge,!1,null,"6052ec70",null)),xe=ke.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"panel-body"},[r("table",{staticClass:"table table-striped"},[e._m(0),r("tbody",e._l(e.AllBooks,(function(t){return r("tr",{key:t.id},[r("td",[r("a",{attrs:{href:t.url}},[e._v(e._s(t.title))])]),r("td",[e._v(e._s(t.author))]),r("td",[r("span",{staticClass:"glyphicon glyphicon-trash",attrs:{"aria-hidden":"true"},on:{click:function(r){return e.removeBook(t)}}})])])})),0)])])])},Ce=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Title")]),r("th",[e._v("Author")]),r("th")])])}],ye={created:function(){var e=this;this.$toastr.i("Cuanto tu ames, eso es lo que vales"),m.onSnapshot((function(t){t.forEach((function(t){var r=t.data();r.id=t.id,e.AllBooks.push(r)}))}))},data:function(){return{AllBooks:[]}}},Ae=ye,Ue=Object(g["a"])(Ae,Be,Ce,!1,null,"e641d4bc",null),Pe=Ue.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("div"),r("div",{staticClass:"text-white"},[r("div",{staticClass:"hero bg-gray-600",style:"background:url("+e.book.coverUrl+"); background-size:cover"},[r("div",{staticClass:"container mx-auto flex flex-col md:flex-row items-end pb-4",staticStyle:{height:"250px"}},[r("div",{staticClass:"w-full md:w-1/4"}),r("div",{staticClass:"w-full md:w-3/4 md:ml-12"},[r("h1",{staticClass:"font-heading"},[e._v(e._s(e.book.title))]),e.book.author?r("div",[e._v(e._s(e.book.author))]):e._e()])])]),r("div",{staticClass:"container mx-auto flex flex-col md:flex-row "},[r("div",{staticClass:"w-full md:w-1/4 -mt-16"},[e.book.coverUrl?r("img",{staticClass:"mb-8",attrs:{src:e.book.coverUrl,alt:"cover"}}):e._e()])]),e._m(0)])])},$e=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div")])}],Oe={data:function(){return{book:null}},created:function(){var e=this;m.doc(this.$attrs.id).onSnapshot((function(t){e.book=t.data()}))}},Ie=Oe,Ee=Object(g["a"])(Ie,Se,$e,!1,null,"5ec7ea82",null),je=Ee.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("img",{attrs:{src:e.userData.photoURL,alt:""}})])])},De=[],Ne=r("3d20"),qe=r.n(Ne),Te={computed:{userData:function(){return qe.a.fire({title:"Error!",text:"Do you want to continue",icon:"error",confirmButtonText:"Cool"}),d.currentUser}},created:function(){},data:function(){return{loggedIn:!1}},methods:{updateUser:function(){d.currentUser.updateProfile({displayName:"Juanma Canahuate"}).then((function(e){}))["catch"]((function(e){}))},profile:function(){this.$store.dispatch("Getuser")}}},Le=Te,Ve=Object(g["a"])(Le,Re,De,!1,null,"ca2a7af4",null),Me=Ve.exports;n["default"].use(O["a"]);var ze=[{path:"/",name:"Home",component:N},{path:"/login",name:"login",component:te},{path:"/register",name:"register",component:ce},{path:"/admin",name:"admin",component:z,meta:{requireAuth:!0}},{path:"/user",name:"user",component:H,meta:{requireAuth:!0}},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/Books",name:"Books",component:he,meta:{requireAuth:!0}},{path:"/book/:id",name:"Book",props:!0,component:je,meta:{requireAuth:!0}},{path:"/profile/:id",name:"Profile",props:!0,component:Me,beforeEnter:function(e,t,r){e.path!="/profile/"+d.currentUser.uid?r("/user"):r()},meta:{requireAuth:!0}},{path:"/AddBook",name:"AddBook",component:xe,meta:{requireAuth:!0}},{path:"/AdminBooks",name:"AdminBooks",component:Pe,meta:{requireAuth:!0}}],Fe=new O["a"]({mode:"history",base:"/",routes:ze});Fe.beforeEach((function(e,t,r){var n=e.matched.some((function(e){return e.meta.requireAuth}));n&&!d.currentUser?r("/login"):r()}));var Ge=Fe,Je=(r("a4d3"),r("e01a"),r("0d03"),r("2f62"));n["default"].use(Je["a"]);var Ke,We=new Je["a"].Store({state:{userProfile:{},book:[],toggle:!1,userUID:null},mutations:{setUserProfile:function(e,t){e.userProfile=t}},actions:{login:function(e,t){return Object(be["a"])(regeneratorRuntime.mark((function r(){var n,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,d.setPersistence("session").then((function(){return d.signInWithEmailAndPassword(t.email,t.password)}))["catch"]((function(e){qe.a.fire({title:"Error!",text:"Credentials Invalid",icon:"error",confirmButtonText:"Ok"})}));case 3:o=r.sent,a=o.user,n("fetchUserProfile",a);case 6:case"end":return r.stop()}}),r)})))()},signup:function(e,t){return Object(be["a"])(regeneratorRuntime.mark((function r(){var n,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,d.createUserWithEmailAndPassword(t.email,t.password);case 3:return o=r.sent,a=o.user,r.next=7,p.doc(a.uid).set({createdAt:Date(),name:t.name,title:t.uni,isActive:!0,isAdmin:!1})["catch"]((function(e){qe.a.fire({title:"Error!",text:"Talk to the web administrators",icon:"error",confirmButtonText:"Ok"})}));case 7:n("fetchUserProfile",a);case 8:case"end":return r.stop()}}),r)})))()},fetchUserProfile:function(e,t){var r=this;return Object(be["a"])(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,n.next=3,p.doc(t.uid).get();case 3:a=n.sent,o("setUserProfile",a.data()),r.state.userProfile.isAdmin?Ge.push("/admin"):Ge.push("/user");case 6:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(be["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,d.signOut();case 3:r("setUserProfile",{}),Ge.push("/login");case 5:case"end":return t.stop()}}),t)})))()},newBook:function(e,t){return Object(be["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.dispatch,r.next=3,m.doc(t.name).set({createdAt:Date(),coverUrl:t.covers,bookUrl:t.file,title:t.name,author:t.author,ISBN:t.ISBN,categories:t.category,description:t.description}).then((function(){this.$toastr.s("".concat(t.name," Created!"))}));case 3:case"end":return r.stop()}}),r)})))()},Getuser:function(e){var t=this;return Object(be["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,p.doc(d.currentUser.uid).get();case 3:return o=r.sent,n("setUserProfile",o.data()),r.abrupt("return",t.state.userProfile);case 6:case"end":return r.stop()}}),r)})))()},toggleSidebar:function(e){var t=e.state;return t.toggle=!t.toggle,t.toggle},getAuthUser:function(e){return Object(be["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,t.next=3,d.currentUser.uid;case 3:r.userUID=t.sent;case 4:case"end":return t.stop()}}),t)})))()}}}),He=r("bc3a"),Ye=r.n(He),Qe=r("5f5b"),Xe=r("b1e0"),Ze=r("025a"),et=r("4776"),tt=r.n(et);r("b15b"),r("f9e3"),r("2dd8");n["default"].use(Qe["a"]),n["default"].use(Xe["a"]),n["default"].use(Ze["a"]),n["default"].use(tt.a),n["default"].prototype.$axios=Ye.a,n["default"].config.productionTip=!1,d.onAuthStateChanged((function(){Ke||(Ke=new n["default"]({components:{"vue-toastr":window.VueToastr},headers:{"Access-Control-Allow-Origin":"Allow"},router:Ge,store:We,render:function(e){return e($)}}).$mount("#app"))}))},"5c0b":function(e,t,r){"use strict";r("9c0c")},"6b3c":function(e,t,r){},"96a0":function(e,t,r){},"9b19":function(e,t,r){e.exports=r.p+"img/logo.76f3d720.svg"},"9c0c":function(e,t,r){},"9f06":function(e,t,r){e.exports=r.p+"img/pdf.3ef60a64.png"},bf1f:function(e,t,r){"use strict";r("96a0")},c656:function(e,t,r){"use strict";r("03da")},d6db:function(e,t,r){"use strict";r("e67a")},e314:function(e,t,r){},e67a:function(e,t,r){}});
//# sourceMappingURL=app.20d0e508.js.map